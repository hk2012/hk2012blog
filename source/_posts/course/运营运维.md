---
title: 渠道数据深化应用功能点
category: 课程
tag: 需求设计
abbrlink: 30549
date: 2024-06-03 09:35:53
---

#	渠道模型视图

## 营商环境满意度对比

- ![营销环境满意度对比](/img/能源互联网/运营运维/营销环境满意度对比.png)

```sql
CREATE TABLE `mod_city_satisfaction` (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'ID',
  `city_name` varchar(50) NOT NULL COMMENT '城市名称',
  `transaction_month` varchar(7) NOT NULL COMMENT '交易月份，格式为YYYY-MM',
  `transaction_count` int(11) NOT NULL COMMENT '渠道交易数据量',
  `satisfaction_rate` decimal(5,2) NOT NULL COMMENT '满意度百分比',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=14 DEFAULT CHARSET=utf8mb4 COMMENT='城市满意度对比表';
```




## 渠道数据质量改进

- ![渠道数据质量改进](/img/能源互联网/运营运维/渠道数据质量改进.png)
```sql
CREATE TABLE `mod_quality_improvement` (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'ID',
  `city_name` varchar(100) NOT NULL COMMENT '城市名称',
  `data_integrity_percentage` decimal(5,2) NOT NULL COMMENT '数据完整性百分比',
  `data_accuracy_percentage` decimal(5,2) NOT NULL COMMENT '数据准确性百分比',
  `time_period` date NOT NULL COMMENT '时间日期',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4 COMMENT='渠道数据质量改进表';
```
## 渠道数据合规性检测

- ![渠道数据合规性检测](/img/能源互联网/运营运维/渠道数据合规性检测.png)
1.  合规接口数量
    1. 总数
    2. level 一级、二级、三级
    3. 比率 percentage ）（通过计算）

```sql
CREATE TABLE `mod_compliance_interface_data` (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'ID',
  `city_name` varchar(100) NOT NULL COMMENT '城市名称',
  `total_compliance` int(11) NOT NULL COMMENT '合规接口总数',
  `level_one` int(11) NOT NULL COMMENT '一级合规接口数',
  `level_two` int(11) NOT NULL COMMENT '二级合规接口数',
  `level_three` int(11) NOT NULL COMMENT '三级合规接口数',
  `level_one_percentage` decimal(5,2) AS (level_one / total_compliance * 100) STORED COMMENT '一级合规接口比率',
  `level_two_percentage` decimal(5,2) AS (level_two / total_compliance * 100) STORED COMMENT '二级合规接口比率',
  `level_three_percentage` decimal(5,2) AS (level_three / total_compliance * 100) STORED COMMENT '三级合规接口比率',
  `time_period` date NOT NULL COMMENT '时间日期',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4 COMMENT='合规接口数据表';

INSERT INTO `mod_compliance_interface_data` (
    city_name, total_compliance, level_one, level_two, level_three, time_period
)
VALUES
('北京', 500, 200, 150, 150, '2024-06-01'),
('上海', 450, 180, 130, 140, '2024-06-01');


SELECT city_name, total_compliance, level_one, level_two, level_three, 
       level_one_percentage, level_two_percentage, level_three_percentage, time_period
FROM `mod_compliance_interface_data`
WHERE city_name = '北京' AND time_period = '2024-06-01';

```

2.  异常接口数
    1. 总数
    2. 分类：数据格式不正确、参数错误、不符合逻辑关系 、其他
    3. 比率 percentage （通过计算）
```sql
CREATE TABLE `mod_anomaly_interface_data` (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'ID',
  `city_name` varchar(100) NOT NULL COMMENT '城市名称',
  `total_anomalies` int(11) NOT NULL COMMENT '异常接口总数',
  `data_format_errors` int(11) NOT NULL COMMENT '数据格式错误数',
  `parameter_errors` int(11) NOT NULL COMMENT '参数错误数',
  `logical_errors` int(11) NOT NULL COMMENT '逻辑关系错误数',
  `other_errors` int(11) NOT NULL COMMENT '其他错误数',
  `time_period` date NOT NULL COMMENT '时间日期',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4 COMMENT='异常接口数据表';

INSERT INTO `mod_anomaly_interface_data` (
    city_name, total_anomalies, data_format_errors, parameter_errors, logical_errors, other_errors, time_period
)
VALUES
('北京', 50, 20, 10, 15, 5, '2024-06-01'),
('上海', 40, 15, 8, 12, 5, '2024-06-01');

SELECT 
    city_name,
    total_anomalies,
    data_format_errors,
    parameter_errors,
    logical_errors,
    other_errors,
    (data_format_errors / total_anomalies * 100) AS data_format_errors_percentage,
    (parameter_errors / total_anomalies * 100) AS parameter_errors_percentage,
    (logical_errors / total_anomalies * 100) AS logical_errors_percentage,
    (other_errors / total_anomalies * 100) AS other_errors_percentage,
    time_period
FROM 
    `mod_anomaly_interface_data`
WHERE 
    city_name = '北京' 
    AND time_period = '2024-06-01';

```

## 渠道数据用户转化分析
- 充值转换率
- 平均交费金额
- 用户留存率

- ![渠道数据用户转化分析](/img/能源互联网/运营运维/渠道数据用户转化分析.png)
```sql
CREATE TABLE `mod_conversion_summary` (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'ID',
  `month` varchar(7) NOT NULL COMMENT '月份 (格式: YYYY-MM)',
  `channel` varchar(100) NOT NULL COMMENT '渠道名称',
  `recharge_conversion_rate` decimal(5,2) NOT NULL COMMENT '充值转化率',
  `average_payment_amount` decimal(10,2) NOT NULL COMMENT '平均交费金额',
  `retention_rate` decimal(5,2) NOT NULL COMMENT '用户留存率',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4 COMMENT='转化数据汇总表';
```

## 数据关联 

- 以列表的形式展现，支持导出，明细字段如下：
用户编号、用户名称、签约渠道、签约时间、开户账户、用电联系人、交易时间、交易流水号、账单周期

```sql
CREATE TABLE `mod_data_transactions` (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键，自增',
  `user_id` int(11) NOT NULL COMMENT '用户编号',
  `user_name` varchar(50) NOT NULL COMMENT '用户名称',
  `sign_channel` varchar(50) NOT NULL COMMENT '签约渠道',
  `sign_time` datetime NOT NULL COMMENT '签约时间',
  `account_number` varchar(50) NOT NULL COMMENT '开户账户',
  `contact_person` varchar(50) NOT NULL COMMENT '用电联系人',
  `transaction_time` datetime NOT NULL COMMENT '交易时间',
  `transaction_id` varchar(50) NOT NULL COMMENT '交易流水号',
  `billing_cycle` varchar(20) NOT NULL COMMENT '账单周期',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


INSERT INTO `mod_data_transactions` 
(`user_id`, `user_name`, `sign_channel`, `sign_time`, `account_number`, `contact_person`, `transaction_time`, `transaction_id`, `billing_cycle`)
VALUES
(1, '张春华', '支付宝', '2024-01-15 09:00:00', '622202020002', '张三', '2024-06-05 12:00:00', 'TX20240605120000', '2024-05'),
(2, '李四', '微信支付', '2023-12-10 14:30:00', '622202020003', '李四', '2024-06-05 10:30:00', 'TX20240605103000', '2024-05'),
(3, '王五', '中国银行', '2023-11-05 16:00:00', '622202020004', '王五', '2024-06-05 09:00:00', 'TX20240605090000', '2024-05'),
(4, '赵六', '建设银行', '2023-10-20 11:45:00', '622202020005', '赵六', '2024-06-05 08:45:00', 'TX20240605084500', '2024-05'),
(5, '孙七', '工商银行', '2023-09-30 17:30:00', '622202020006', '孙七', '2024-06-05 08:00:00', 'TX20240605080000', '2024-05');

```

## 渠道数据效果评估

1. 数据处理能力

```sql
CREATE TABLE `mod_capabilities` (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键，自增',
  `data_cleaning` int(11) NOT NULL COMMENT '数据清洗能力',
  `data_integration` int(11) NOT NULL COMMENT '数据整合能力',
  `data_security` int(11) NOT NULL COMMENT '数据安全能力',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
INSERT INTO `mod_capabilities` (`data_cleaning`, `data_integration`, `data_security`)
VALUES
(40, 30, 30),  -- 数据清洗能力40, 数据整合能力30, 数据安全能力30
(50, 20, 30),  -- 数据清洗能力50, 数据整合能力20, 数据安全能力30
(30, 40, 30),  -- 数据清洗能力30, 数据整合能力40, 数据安全能力30
(25, 50, 25),  -- 数据清洗能力25, 数据整合能力50, 数据安全能力25
(33, 33, 34);  -- 数据清洗能力33, 数据整合能力33, 数据安全能力34
```

2. 数据利用价值
```sql
CREATE TABLE `mod_utilization` (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键，自增',
  `user_behavior_analysis` int(11) NOT NULL COMMENT '用户行为分析',
  `business_optimization` int(11) NOT NULL COMMENT '业务优化',
  `risk_identification_prevention` int(11) NOT NULL COMMENT '风险识别与预防',
  `data_analysis_depth` int(11) NOT NULL COMMENT '数据分析深度',
  `decision_influence` int(11) NOT NULL COMMENT '决策影响力',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

INSERT INTO `mod_utilization` (`user_behavior_analysis`, `business_optimization`, `risk_identification_prevention`, `data_analysis_depth`, `decision_influence`)
VALUES
(20, 20, 20, 20, 20),  -- 每个字段20
(25, 25, 10, 20, 20),  -- 用户行为分析25, 业务优化25, 风险识别与预防10, 数据分析深度20, 决策影响力20
(30, 20, 20, 10, 20),  -- 用户行为分析30, 业务优化20, 风险识别与预防20, 数据分析深度10, 决策影响力20
(10, 30, 25, 15, 20),  -- 用户行为分析10, 业务优化30, 风险识别与预防25, 数据分析深度15, 决策影响力20
(20, 20, 30, 15, 15);  -- 用户行为分析20, 业务优化20, 风险识别与预防30, 数据分析深度15, 决策影响力15
```